var UID=0;function guid(){return"ns"+UID++}function getInstance(e,a,t,n){if(r=e.data(n.namespace))n.optionsSetter&&"function"==typeof r[n.optionsSetter]&&r[n.optionsSetter].apply(r,t);else{var r,i=a.bind.apply(a,[a,e].concat(t));if(!(r=a.prototype?new i:i())||"object"!=typeof r)return;e.data(n.namespace,r)}return r}function getAPICallParams(e,a){if("string"==typeof e[0]){var t=e[0],n=a.api;if(!n||-1!==n.indexOf(t))return{apiName:t,apiParams:e.slice(1),params:[]}}return{apiName:null,apiParams:null,params:e}}function call(e,a,t,n){var r=getAPICallParams(t,n),i=r.apiName,o=r.apiParams,p=r.params;if("instance"===i)return e.data(n.namespace)||null;var s=getInstance(e,a,p,n);return s&&i?s[i].apply(s,o):void 0}function itterate(e,a,t,n){for(var r=e,i=0,o=e.length;i<o;i++){var p=call(e.eq(i),a,t,n);void 0!==p&&(r=p)}return r}function generate(t,e){void 0===e&&(e={});var n=Object.assign({api:null,namespace:guid(),optionsSetter:"setOptions"},e);if("function"==typeof t)return function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];return itterate(this,t,e,n)};throw"fn is required field for jquery-plugin-generator"}module.exports=generate;